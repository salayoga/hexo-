---
title:  vue
date: 2020-08-13 09:06:13
tags: vue
---

1.v-if和v-show，大多数情况下页面操作并不是太过于平凡，推荐使用v-if

<!--more-->

2.v-for和v-if同时使用的问题，由于v-for的优先级高于v-if， 所以当两个指令出现来一个DOM中，那么 `vFor` 渲染的当前列表，每一次都需要进行一次 `vIf` 的判断。  而相应的列表也会重新变化 ， 尽量使用计算属性，先将 `vIf` 不需要的值先过滤掉。 

3.v-for不推荐使用index作为键值，在往vue中添加或者删除项的时候，操作项后面豆浆发生改变， 那么当前的 `vFor` 都会对key变化的 `Element` 重新渲染，但是其实它们除了插入的 `Element` 数据都没有发生改变，这就导致了没有必要的开销 

4.释放组件资源

 当组件销毁后，尽量把我们开辟出来的资源块给销毁掉，比如 setInterval , addEventListener等，如果你不去手动给释放掉，那么它们依旧会占用一部分资源。这就导致了没有必要的资源浪费 

5.长列表

项目当中，会涉及到非常多的长列表场景，区别于普通的分页来说，大部分的前端在做这种 `无限列表` 的时候，大部分新手前端都是通过一个 `vFor` 将数据遍历出来，想的多一点的就是做一个分页。滚动到底部的时候就继续请求 `API` 。其实这也是未思考妥当的。随着数据的加载，DOM会越来越多，这样就导致了性能开销的问题产生了，当页面上的DOM太多的时候，难免给我的客户端造成一定的压力，所以对于长列表渲染的时候，建议将DOM移除掉，类似于图片懒加载的模式，只有出现在视图上的DOM才是重要的DOM。网络上有一些很好的解决方案，如 `vue-virtual-scroller` 库等等